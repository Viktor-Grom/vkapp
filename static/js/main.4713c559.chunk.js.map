{"version":3,"sources":["index.js"],"names":["bridge","send","App","props","componentDidMount","e","a","url","URLSearchParams","window","location","search","get","fetch","dataVkApi","json","setState","userId","userLink","response","photo_100","userName","first_name","last_name","state","activePanel","undefined","this","cell","before","src","description","size","style","marginTop","id","React","Component","ReactDOM","render","document","getElementById"],"mappings":"2QAMAA,IAAOC,KAAK,gB,IAENC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACnB,cAAMA,IAQJC,kBATiB,uCASG,WAAOC,GAAP,iBAAAC,EAAA,6DACdC,EAAM,mFAAqF,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,cAAgB,+HAD7I,SAEIC,MAAMN,GAFV,cAEdO,EAFc,gBAGIA,EAAUC,OAHd,OAGdD,EAHc,OAIlB,EAAKE,SAAS,CAACC,OAAQ,IAAIT,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,cACxDM,SAAUJ,EAAUK,SAAS,GAAKC,UAClCC,SAAUP,EAAUK,SAAS,GAAKG,WAAa,IAAMR,EAAUK,SAAS,GAAKI,YAN1E,2CATH,sDAEnB,EAAKC,MAAQ,CACTC,YAAa,OACbR,YAAQS,EACRR,cAAUQ,EACVL,cAAUK,GANK,E,qDAoBrB,GAAGC,KAAKH,MAAMP,OACd,IAAIW,EAAO,kBAAC,IAAD,CAAMC,OAAQ,kBAAC,IAAD,CAAQC,IAAKH,KAAKH,MAAMN,WAAca,YAAY,gBAAMJ,KAAKH,MAAMH,eAExFO,EAAO,kBAAC,IAAD,CAAeI,KAAK,SAASC,MAAO,CAAEC,UAAW,OAI1D,OACE,kBAAC,IAAD,CAAMT,YAAaE,KAAKH,MAAMC,aAC5B,kBAAC,IAAD,CAAOU,GAAG,QACR,kBAAC,IAAD,KAAc,4BACrBP,Q,GAhCiBQ,IAAMC,WAwCxBC,IAASC,OAAO,kBAACrC,EAAD,MAASsC,SAASC,eAAe,W","file":"static/js/main.4713c559.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { View, Panel, PanelHeader, Div, Button, PanelHeaderBack, Cell, Avatar, ScreenSpinner } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nbridge.send(\"VKWebAppInit\");\n\nclass App extends React.Component {\n  constructor(props) {\n  super(props);\n  this.state = {\n      activePanel: 'main',\n      userId: undefined,\n      userLink: undefined,\n      userName: undefined\n    }}\n\n    componentDidMount = async (e) => {\n      var url = \"https://cors-anywhere.herokuapp.com/https://api.vk.com/method/users.get?user_id=\" + new URLSearchParams(window.location.search).get(\"vk_user_id\") + \"&v=5.107&fields=photo_100&access_token=9d0a4679de9f92b8544f85b68de8bec1d34ff98994f27108ac9183c52997d5a67d9430ca710daacb5c539\";\n      var dataVkApi = await fetch(url);\n      var dataVkApi = await dataVkApi.json();\n      this.setState({userId: new URLSearchParams(window.location.search).get(\"vk_user_id\"),\n                     userLink: dataVkApi.response[\"0\"].photo_100,\n                     userName: dataVkApi.response[\"0\"].first_name + \" \" + dataVkApi.response[\"0\"].last_name\n                  });\n}\n  render() {\n\nif(this.state.userId) {\nvar cell = <Cell before={<Avatar src={this.state.userLink} />} description=\"Вы\">{this.state.userName}</Cell>;\n}else {\nvar cell = <ScreenSpinner size=\"medium\" style={{ marginTop: 200 }}/>;\n}\n\n\n  return (\n    <View activePanel={this.state.activePanel}>\n      <Panel id=\"main\">\n        <PanelHeader>{\"Меню\"}</PanelHeader>\n{cell}\n      </Panel>\n    </View>\n  );\n}\n\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}