{"version":3,"sources":["index.js"],"names":["bridge","send","urlProxyGet","activePanel","panelMain","size","style","marginTop","panelUserMe","panelUsers","staticMenu","onClick","usersMeInfo","usersInfo","sortType","userId","userLink","userName","meStatus","meBalans","meActions","meWinRate","meWins","meLose","meWinRateDop","meGun","meWinStrick","meTime","a","ReactDOM","render","App","document","getElementById","urlMeUserGet","fetch","method","meUserGet","json","accept","before","src","description","aside","alert","header","value","display","indicator","mode","usersMeInfoReload","urlMeUsersGet","meUsersGet","onChange","e","usersInfoReload","id","top","i","Object","keys","length","URLSearchParams","window","location","search","get","urlVkGet","vkGet","response","photo_100","first_name","last_name","onSwipeBack","left","React","Component"],"mappings":"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","file":"static/js/main.3e966c92.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport { View, Panel, PanelHeader, Div, Button, Link, Cell, Avatar, ScreenSpinner, Header, PanelHeaderBack, InfoRow, Progress, Separator, Counter, Footer, FormLayout, Select, ModalPage  } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nbridge.send(\"VKWebAppInit\");\nvar urlProxyGet = \"https://cors-anywhere.herokuapp.com/http://f0442357.xsph.ru/botTest/VkApp/\";\n\nvar activePanel = \"main\";\nvar panelMain = <ScreenSpinner size=\"medium\" style={{ marginTop: \"50%\" }}/>;\nvar panelUserMe = <ScreenSpinner size=\"medium\" style={{ marginTop: \"50%\" }}/>;\nvar panelUsers = <ScreenSpinner size=\"medium\" style={{ marginTop: \"50%\" }}/>;\nvar staticMenu = [ <Div><Button size=\"xl\" onClick={usersMeInfo}>Моя статистика</Button></Div>, <Div><Button size=\"xl\" onClick={usersInfo}>Участники</Button></Div> ];\nvar sortType = \"1\";\nvar userId = \"\";\nvar userLink = \"\";\nvar userName = \"\";\nvar meStatus = \"\";\nvar meBalans = \"\";\nvar meActions = \"\";\nvar meWinRate = \"\";\nvar meWins = \"\";\nvar meLose = \"\";\nvar meWinRateDop = \"\";\nvar meGun = \"\";\nvar meWinStrick = \"\";\nvar meTime = \"\";\n\n(async function(){\nuserId = new URLSearchParams(window.location.search).get(\"vk_user_id\");\nvar urlVkGet = urlProxyGet + \"startInfo.php?user_id=\" + userId;\nvar vkGet = await fetch(urlVkGet, {method: \"GET\"});\nvar vkGet = await vkGet.json();\nuserLink = vkGet.response[\"0\"].photo_100;\nuserName = vkGet.response[\"0\"].first_name + \" \" + vkGet.response[\"0\"].last_name;\npanelMain = [ <Div><Cell before={<Avatar src={userLink} />} description=\"Это Вы\">{userName}</Cell></Div>, staticMenu ];\nReactDOM.render(<App />, document.getElementById(\"root\"));\n}())\n\nasync function usersMeInfo() {\nactivePanel = \"userMe\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\nvar urlMeUserGet = urlProxyGet + \"userMeInfo.php?user_id=\" + userId;\nvar meUserGet = await fetch(urlMeUserGet, {method: \"GET\"});\nvar meUserGet = await meUserGet.json();\nmeStatus = meUserGet.meStatus;\nmeBalans = meUserGet.meBalans;\nmeActions = meUserGet.meActions;\nmeWinRate = meUserGet.meWinRate;\nmeWins = meUserGet.meWins;\nmeLose = meUserGet.meLose;\nmeWinRateDop = meUserGet.meWinRateDop;\nmeGun = meUserGet.meGun;\nmeWinStrick = meUserGet.meWinStrick;\nmeTime = meUserGet.meTime;\nif (meUserGet.accept == 1) {\npanelUserMe = [ <Div><Cell before={<Avatar src={userLink} />} description={meStatus}>{userName}</Cell><Header aside={<Link onClick={() => alert(1)}>Перевести</Link>}>{\"Баланс: \" + meBalans + \"р\"}</Header><Header>{\"Действий: \" + meActions + \" шт\"}</Header></Div>, <Separator />, <Div><InfoRow header={\"Винрейт: \" + meWinRate + \"%\"}><Progress value={meWinRate} /></InfoRow></Div>, <Div style={{display: 'flex'}}><Header indicator={<Counter mode=\"primary\">{meWins}</Counter>}>Побед</Header><Header indicator={<Counter mode=\"prominent\">{meLose}</Counter>}>Поражений</Header></Div>, <Div><Header indicator={<Counter>{meWinRateDop}</Counter>}>Шанс победы</Header><Header indicator={<Counter>{meGun}</Counter>}>Оружие</Header><Header indicator={<Counter>{meWinStrick + \" games\"}</Counter>}>Winstrick</Header></Div>, <Separator />, <Div><Footer>{\"Последнее обновление в \" + meTime}</Footer><Button size=\"xl\" onClick={usersMeInfoReload}>Обновить</Button></Div>];\n}else {\npanelUserMe = <Div><Cell before={<Avatar src={userLink} />} description=\"Это вы\">{userName}</Cell><Header indicator={<Counter>вы не состоите в беседе</Counter>}>Ошибка</Header></Div>;\n}\nReactDOM.render(<App />, document.getElementById(\"root\"));\n}\nfunction usersMeInfoReload() {\npanelUserMe = <ScreenSpinner size=\"medium\" style={{ marginTop: \"50%\" }}/>;\nReactDOM.render(<App />, document.getElementById(\"root\"));\nusersMeInfo();\n}\nasync function usersInfo() {\nactivePanel = \"users\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\nvar urlMeUsersGet = urlProxyGet + \"usersInfo.php?type=\" + sortType;\nvar meUsersGet = await fetch(urlMeUsersGet, {method: \"GET\"});\nvar meUsersGet = await meUsersGet.json();\npanelUsers = [<Div><FormLayout onChange={(e) => {sortType = document.getElementById(\"sortType\").value; usersInfoReload()}}><Select value={sortType} id=\"sortType\" top=\"Выберите способ сортировки\"><option value=\"1\">По винрейту</option><option value=\"2\">По деньгам</option></Select></FormLayout></Div>];\nfor (var i = 1; i <= Object.keys(meUsersGet).length; i++) {\npanelUsers = [panelUsers, <Div><Footer>{i + \" место\"}</Footer><Cell before={<Avatar src={meUsersGet[i][\"link\"]} />} description={meUsersGet[i][\"status\"]}>{meUsersGet[i][\"name\"]}</Cell>  <InfoRow header={\"Винрейт: \" + meUsersGet[i][\"winRate\"] + \"%\"}><Progress value={meUsersGet[i][\"winRate\"]} /></InfoRow><Header indicator={<Counter>{meUsersGet[i][\"money\"]}</Counter>}>Баланс</Header><Header indicator={<Counter>{meUsersGet[i][\"winSchance\"]}</Counter>}>Шанс на победу</Header></Div>];\n}\npanelUsers = [panelUsers, <Div><Footer>{\"Последнее обновление в \" + meUsersGet[1][\"meTime\"]}</Footer><Button size=\"xl\" onClick={usersInfoReload}>Обновить</Button></Div>];\nReactDOM.render(<App />, document.getElementById(\"root\"));\n}\nasync function usersInfoReload() {\npanelUsers = <ScreenSpinner size=\"medium\" style={{ marginTop: \"50%\" }}/>;\nReactDOM.render(<App />, document.getElementById(\"root\"));\nusersInfo();\n}\n\nclass App extends React.Component {\nrender() {\n\n  return (\n    <View activePanel={activePanel} onSwipeBack={() => activePanel = \"main\"}>\n      <Panel id=\"main\">\n        <PanelHeader>Меню</PanelHeader>\n{panelMain}\n      </Panel>\n      <Panel id=\"userMe\">\n      <PanelHeader left={<PanelHeaderBack onClick={() => {activePanel=\"main\"; ReactDOM.render(<App />, document.getElementById(\"root\"))}}/>}>Статистика</PanelHeader>\n{panelUserMe}\n      </Panel>\n      <Panel id=\"users\">\n      <PanelHeader left={<PanelHeaderBack onClick={() => {activePanel=\"main\"; ReactDOM.render(<App />, document.getElementById(\"root\"))}}/>}>Участники</PanelHeader>\n{panelUsers}\n      </Panel>\n    </View>\n);}}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}